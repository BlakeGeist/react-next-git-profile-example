{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nvar exampleInitialState = {\n  lastUpdate: 0,\n  light: false,\n  count: 0,\n  failedToFind: false,\n  userName: '',\n  profiles: [],\n  rawProfiles: [],\n  hasSearched: false\n};\nexport var actionTypes = {\n  TICK: 'TICK',\n  INCREMENT: 'INCREMENT',\n  DECREMENT: 'DECREMENT',\n  RESET: 'RESET',\n  SET_ITEM: 'SET_ITEM',\n  ADD_PROFILE: 'ADD_PROFILE',\n  REMOVE_PROFILE: 'REMOVE_PROFILE'\n}; // REDUCERS\n\nexport var reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : exampleInitialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  function removeProfileByIndex(index) {\n    return state.profiles.filter(function (ele) {\n      return ele !== state.profiles[index];\n    });\n  } // this seems like an odd spot to be declaring this function\n\n\n  function updateProfiles(profileDoesNotExist, profiles, state) {\n    if (profileDoesNotExist) {\n      return _objectSpread({}, state, {\n        profiles: profiles,\n        rawProfiles: profiles\n      });\n    } else {\n      return state;\n    }\n  }\n\n  switch (action.type) {\n    case actionTypes.TICK:\n      return _Object$assign({}, state, {\n        lastUpdate: action.ts,\n        light: !!action.light\n      });\n\n    case actionTypes.INCREMENT:\n      return _Object$assign({}, state, {\n        count: state.count + 1\n      });\n\n    case actionTypes.DECREMENT:\n      return _Object$assign({}, state, {\n        count: state.count - 1\n      });\n\n    case actionTypes.RESET:\n      return _Object$assign({}, state, {\n        count: exampleInitialState.count\n      });\n\n    case actionTypes.SET_ITEM:\n      {\n        return _Object$assign({}, state, _defineProperty({}, action.name, action.payload));\n      }\n\n    case actionTypes.ADD_PROFILE:\n      {\n        var profileDoesNotExist = state.profiles.filter(function (x) {\n          return x.id === action.profileData.id;\n        }).length < 1;\n        var theProfiles = [].concat(_toConsumableArray(state.profiles), [action.profileData]);\n        return updateProfiles(profileDoesNotExist, theProfiles, state);\n      }\n\n    case actionTypes.REMOVE_PROFILE:\n      {\n        var profiles = removeProfileByIndex(action.index);\n        return _objectSpread({}, state, {\n          profiles: profiles,\n          rawProfiles: profiles\n        });\n      }\n\n    default:\n      return state;\n  }\n}; // ACTIONS\n\nexport var serverRenderClock = function serverRenderClock() {\n  return {\n    type: actionTypes.TICK,\n    light: false,\n    ts: _Date$now()\n  };\n};\nexport var startClock = function startClock() {\n  return {\n    type: actionTypes.TICK,\n    light: true,\n    ts: _Date$now()\n  };\n};\nexport var incrementCount = function incrementCount() {\n  return {\n    type: actionTypes.INCREMENT\n  };\n};\nexport var decrementCount = function decrementCount() {\n  return {\n    type: actionTypes.DECREMENT\n  };\n};\nexport var resetCount = function resetCount() {\n  return {\n    type: actionTypes.RESET\n  };\n};\nexport function initializeStore() {\n  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : exampleInitialState;\n  return createStore(reducer, initialState, composeWithDevTools(applyMiddleware()));\n}","map":null,"metadata":{},"sourceType":"module"}